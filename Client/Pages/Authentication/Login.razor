@page "/login"
@layout EmptyLayout
@inherits LoginBase

<PageTitle>Login - ValyanMed</PageTitle>

<div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: #f5f5f5;">
    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-width: 450px; width: 100%;">
        
        <!-- Header with Logo beside Blue Band -->
        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
            <!-- Logo outside and to the left of blue band - sized to match blue band height -->
            <div style="display: flex; align-items: center; justify-content: center; width: 70px; height: 70px;">
                <img src="images/valyanmed-logo.png" alt="ValyanMed Logo" style="width: 66px; height: 66px; object-fit: contain;" />
            </div>
            
            <!-- Blue band with text content -->
            <div style="background: linear-gradient(135deg, #1e88e5 0%, #0d47a1 100%); color: white; padding: 1rem; border-radius: 8px; flex: 1; height: 70px; display: flex; flex-direction: column; justify-content: center;">
                <h2 style="margin: 0; font-weight: 600; font-size: 1.5rem; line-height: 1.2;">ValyanMed</h2>
                <p style="margin: 0; font-size: 0.9rem; opacity: 0.9; line-height: 1.1;">Clinical Management System</p>
            </div>
        </div>
        
        <!-- Welcome section -->
        <div style="text-align: center; margin-bottom: 2rem;">
            <h3 style="color: #333; margin-bottom: 0.5rem;">Welcome Back!</h3>
            <p style="color: #666;">Please Log in to your account.</p>
        </div>

        <!-- Erori -->
        @if (HasErrors)
        {
            <div style="background: #ffebee; color: #c62828; padding: 12px; border-radius: 6px; margin-bottom: 1rem;">
                @foreach (var error in Errors)
                {
                    <div>@error</div>
                }
            </div>
        }

        <!-- Form -->
        <EditForm Model="FormModel" OnValidSubmit="HandleLogin">
            <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                
                <!-- Email -->
                <div>
                    <label style="display: block; margin-bottom: 6px; font-weight: 500; color: #424242;">
                        Email Address
                    </label>
                    <InputText @bind-Value="FormModel.NumeUtilizatorSauEmail" 
                               placeholder="tuhelrana@gmail.com"
                               disabled="@IsLoading"
                               style="width: 100%; padding: 12px; border: 1px solid #e0e0e0; border-radius: 6px;" />
                </div>

                <!-- Password -->
                <div>
                    <label style="display: block; margin-bottom: 6px; font-weight: 500; color: #424242;">
                        Password
                    </label>
                    <InputText @bind-Value="FormModel.Parola" 
                               type="password"
                               placeholder="••••••••"
                               disabled="@IsLoading"
                               style="width: 100%; padding: 12px; border: 1px solid #e0e0e0; border-radius: 6px;" />
                </div>

                <!-- Login Button -->
                <button type="submit" disabled="@IsLoading"
                        style="width: 100%; height: 48px; background: linear-gradient(135deg, #1e88e5 0%, #0d47a1 100%); color: white; border: none; border-radius: 6px; font-weight: 500; cursor: pointer;">
                    @if (IsLoading)
                    {
                        <span>Se conecteaza...</span>
                    }
                    else
                    {
                        <span>Login</span>
                    }
                </button>
                
                <!-- Forgot Password -->
                <div style="text-align: center; margin-top: 1rem;">
                    <a href="#" @onclick="HandleForgotPassword" @onclick:preventDefault="true" 
                       style="color: #f44336; text-decoration: none; font-size: 14px;">
                        Forgot password?
                    </a>
                </div>
                
            </div>
        </EditForm>
        
    </div>
</div>